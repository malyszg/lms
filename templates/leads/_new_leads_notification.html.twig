<div id="new-leads-notification" 
     hx-get="{{ path('leads_new_count') }}?since={{ lastCheckTimestamp }}" 
     hx-trigger="every 30s" 
     hx-swap="innerHTML">
    {% if newLeadsCount > 0 %}
        <div class="alert alert-info d-flex justify-content-between align-items-center mb-3" role="alert">
            <span>
                <i class="bi bi-info-circle"></i>
                Pojawiły się <strong>{{ newLeadsCount }}</strong> {{ newLeadsCount == 1 ? 'nowy lead' : (newLeadsCount < 5 ? 'nowe leady' : 'nowych leadów') }}
            </span>
            <button type="button" 
                    class="btn btn-primary btn-sm"
                    hx-get="{{ path('leads_list') }}?created_from={{ lastCheckTimestamp }}"
                    hx-target="#leads-table-container"
                    hx-push-url="true">
                <i class="bi bi-arrow-clockwise"></i> Załaduj nowe leady
            </button>
        </div>
    {% endif %}
</div>



























