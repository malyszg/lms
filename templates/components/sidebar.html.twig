<nav class="sidebar" id="sidebar-wrapper">
    <div class="sidebar-header">
        <div class="sidebar-title">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3z"/>
            </svg>
            LMS
        </div>
    </div>
    
    <div class="sidebar-nav">
        <a class="sidebar-nav-item {{ app.request.attributes.get('_route') starts with 'leads' ? 'active' : '' }}" 
           href="{{ path('leads_index') }}">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M2 3h12v2H2V3zm0 4h12v2H2V7zm0 4h12v2H2v-2z"/>
            </svg>
            Leady
            <span id="leads-badge" 
                  hx-get="{{ path('leads_new_count') }}" 
                  hx-trigger="every 30s"
                  hx-swap="innerHTML">
                {# Badge dynamically updated #}
            </span>
        </a>
        
        <a class="sidebar-nav-item {{ app.request.attributes.get('_route') starts with 'customers' ? 'active' : '' }}" 
           href="{{ path('customers_index') }}">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M8 8c1.66 0 3-1.34 3-3S9.66 2 8 2 5 3.34 5 5s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V15h14v-1.5c0-2.33-4.67-3.5-7-3.5z"/>
            </svg>
            Klienci
        </a>
        
        <a class="sidebar-nav-item {{ app.request.attributes.get('_route') starts with 'failed_deliveries' ? 'active' : '' }}" 
           href="{{ path('failed_deliveries_index') }}">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M8 1l7 13H1L8 1zm0 3.5L3.5 12h9L8 4.5zM7 8h2v3H7V8zm0 4h2v2H7v-2z"/>
            </svg>
            Nieudane dostawy
            <span id="failed-deliveries-badge"
                  hx-get="{{ path('failed_deliveries_count') }}"
                  hx-trigger="every 60s"
                  hx-swap="innerHTML">
                {# Badge dynamically updated #}
            </span>
        </a>
        
        {# Admin-only sections (always visible in dev mode) #}
        <a class="sidebar-nav-item {{ app.request.attributes.get('_route') starts with 'events' ? 'active' : '' }}" 
           href="{{ path('events_index') }}">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M3 2h10c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1H3c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1zm1 2v8h8V4H4zm2 2h4v1H6V6zm0 2h4v1H6V8z"/>
            </svg>
            Eventy
        </a>
        
        <a class="sidebar-nav-item {{ app.request.attributes.get('_route') starts with 'config' ? 'active' : '' }}" 
           href="{{ path('config_index') }}">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M8 10.5c-1.38 0-2.5-1.12-2.5-2.5S6.62 5.5 8 5.5s2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zm5.9-.4l1.1-.85-.55-1.55-1.35.05c-.25-.5-.6-.95-1.05-1.3l.35-1.3L11 3l-.9 1.05c-.6-.15-1.2-.15-1.8 0L7.4 3l-1.4 1.15.35 1.3c-.45.35-.8.8-1.05 1.3l-1.35-.05L3.4 8.25l1.1.85c-.05.3-.05.6 0 .9l-1.1.85.55 1.55 1.35-.05c.25.5.6.95 1.05 1.3l-.35 1.3L7 16l.9-1.05c.6.15 1.2.15 1.8 0L10.6 16l1.4-1.15-.35-1.3c.45-.35.8-.8 1.05-1.3l1.35.05.55-1.55-1.1-.85c.05-.3.05-.6 0-.9z"/>
            </svg>
            Konfiguracja
        </a>
    </div>
    
    <div class="sidebar-footer">
        <a href="{{ path('help_index') }}" class="sidebar-nav-item">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M8 1c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.14-7-7 3.14-7 7-7zm0 11c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm1-3.5V9H7v-.5c0-.83.67-1.5 1.5-1.5.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5H7c0-.83.67-1.5 1.5-1.5S10 5.67 10 6.5c0 .66-.42 1.22-1 1.43z"/>
            </svg>
            Pomoc
        </a>
        <a href="mailto:support@example.com" class="sidebar-nav-item" style="font-size: var(--fluent-font-size-200);">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M2 3h12v10H2V3zm1 1v1l5 3 5-3V4H3zm0 2.5V12h10V6.5l-5 3-5-3z"/>
            </svg>
            Zgłoś problem
        </a>
    </div>
</nav>

